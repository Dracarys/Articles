# ã€æ•´ç†ã€‘Ubuntu å­¦ä¹ ç¬”è®°

Ubuntu ä¹Ÿæ–­æ–­ç»­ç»­ç”¨äº†ä¸çŸ­æ—¶é—´ï¼Œè™šæ‹Ÿæœºçš„å¸¸é©»ç³»ç»Ÿä¹‹ä¸€ï¼Œä½†æ˜¯ä¸Šå‘¨æœ«åœ¨å®¶é‡Œè¿œç¨‹éƒ¨ç½²ä¸€ä¸ª Flask å°é¡¹ç›®æ—¶ç«Ÿç„¶æŠŠä¸€äº›å‘½ä»¤åˆå¿˜äº†ï¼Œï¼Œä¸ºäº†æ”¹å–„è¿™ç§çŽ°ç”¨çŽ°å¿˜çŽ°æŸ¥çš„æƒ…å†µï¼Œä¹Ÿä¸ºäº†ä»¥åŽæŸ¥è¯¢æ›´æ–¹ä¾¿ðŸ˜ï¼Œç‰¹æ­¤æ•´ç†ã€‚

## apt å®‰è£…åŒ…æ—¶æç¤ºæ‰¾ä¸åˆ°

è¿™å¾ˆå¯èƒ½æ˜¯å› ä¸ºä½ é¦–æ¬¡ä½¿ç”¨ aptï¼Œè¿˜æ²¡æœ‰å¯¹å…¶æ›´æ–°é€ æˆçš„ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ›´æ–°å³å¯ï¼š

```shell
apt update
```

> æ³¨æ„ï¼Œå¾ˆå¤šåŒ…éƒ½éœ€è¦ root æƒé™ï¼Œæ³¨æ„åˆ‡æ¢ç”¨æˆ·ã€‚


## Unable to install "package-name": snap "package-name" has "install-snap" change in progress
é€šè¿‡ snap store å®‰è£…åº”ç”¨ï¼Œå¦‚æžœå°šæœªå®‰è£…å®Œä½ å°±åŽ»æŸ¥çœ‹äº†å…¶ä»–åº”ç”¨ï¼Œä¹‹åŽå†æ¬¡è¿”å›žæ—¶å®‰è£…è¿›åº¦å°±å¾ˆå¯èƒ½ä¼šä¸¢å¤±ï¼Œæ­¤æ—¶å¦‚æžœä½ å†æ¬¡é€‰æ‹© â€œinstallâ€ï¼Œå°±ä¼šå¾—åˆ°è¯¥é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºå®‰è£…è¿›ç¨‹ä»åœ¨è¿›è¡Œä¸­ï¼Œè‡³å°‘æ˜¯å®ƒè®¤ä¸ºä»åœ¨è¿›è¡Œä¸­ã€‚

æ€Žä¹ˆè§£å†³å‘¢ï¼Ÿåœ¨ä¸‡èƒ½çš„ç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹æ­£åœ¨è¿›è¡Œçš„å®‰è£…ï¼š

```shell
$ snap changes

ID Status  Spawn                Ready       Summary
1  Doing   today at 11:09 CST   -           Install "AppName" snap
```

åº”è¯¥èƒ½åœ¨ç»“æžœä¸­çœ‹åˆ°ï¼Œä½ æƒ³è£…è€Œè£…ä¸äº†çš„åº”ç”¨ï¼ŒçŠ¶æ€ä¸º `Doing`ã€‚è¿™å°±æ˜¯é—®é¢˜çš„æ‰€åœ¨äº†ï¼ŒæŽ¥ä¸‹æˆ‘æ¥æˆ‘ä»¬åªè¦åœ¨ç»ˆç«¯ä¸­ç»ˆæ­¢å®ƒå°±å¯ä»¥äº†ã€‚

```shell
sudo snap abort 1
```

æ³¨æ„å‘½ä»¤ä¸­ `abort` çš„æ˜¯ idï¼Œè¦ä¸Žä¸Šä¸€æ¡å‘½ä»¤çš„ç»“æžœä¸­çš„æ¡ç›® id ç›¸åŒã€‚

> å¦‚æžœä½ è·Ÿæˆ‘ä¸€æ ·ï¼Œå¯¹ Snap ä¸ç”šäº†è§£ï¼Œé‚£ä¹ˆå¯ä»¥å‚è§è¿™ç¯‡æ–‡ç« ï¼š[ã€ŠUbuntu 18.04åŠSnapä½“éªŒã€‹](https://www.linuxidc.com/Linux/2018-06/152993.htm)


## linux shell ä¸­çš„ â€œ>/dev/null 2>&1â€

/dev/null è¡¨ç¤ºä¸€ä¸ª linux ä¸Šçš„ç©ºè®¾å¤‡æ–‡ä»¶ï¼Œæ‰€æœ‰å†™å…¥è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹éƒ½ä¼šä¸¢å¤±ï¼Œä¿—ç§°â€é»‘æ´žâ€œï¼Œä¸ªäººä¹ æƒ¯ç§°ä¹‹ä¸ºâ€ä¸‹æ°´é“â€œï¼Œæ›´ç¬¦åˆè‡ªå·±å¯¹ï¼ˆæ°´ï¼‰æµçš„è®¤çŸ¥ã€‚

shell ä¸­æ¯ä¸ªç¨‹åºè¿è¡ŒåŽéƒ½ä¼šè‡³å°‘æ‰“å¼€3ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼š

|ç±»åž‹|æ–‡ä»¶æè¿°ç¬¦|é»˜è®¤æƒ…å†µ|å¯¹åº”æ–‡ä»¶å¥æŸ„ä½ç½®|
|:--|:--|:--|:--|
|æ ‡å‡†è¾“å…¥ï¼ˆstandard inputï¼‰|0|ä»Žé”®ç›˜èŽ·å¾—è¾“å…¥|/proc/self/fd/0|
|æ ‡å‡†è¾“å‡ºï¼ˆstandard outputï¼‰|	1|	è¾“å‡ºåˆ°å±å¹•ï¼ˆå³æŽ§åˆ¶å°ï¼‰|	/proc/self/fd/1|
|é”™è¯¯è¾“å‡ºï¼ˆerror outputï¼‰|2|è¾“å‡ºåˆ°å±å¹•ï¼ˆå³æŽ§åˆ¶å°ï¼‰|/proc/self/fd/2|
 

â€œ2>&1â€ ä¸­çš„ 2 å’Œ 1 å³åˆ†åˆ«è¡¨ç¤ºæ ‡å‡†çš„é”™è¯¯æµå’Œè¾“å‡ºæµã€‚

æ—¢ç„¶æœ‰äº†æµï¼Œé‚£ä¹ˆè‡ªç„¶å°±æœ‰åƒæŽ§åˆ¶æ°´ç®¡ä¸€æ ·çš„æµå‘æŽ§åˆ¶éœ€æ±‚ï¼Œä¸ºäº†æ»¡è¶³è¿™ä¸€éœ€æ±‚ï¼Œå¼•å…¥äº† `>` ç¬¦å·ã€‚è¯¥ç¬¦å·è¡¨ç¤ºå°†æµè¿›è¡Œé‡å®šå‘ï¼Œå°–è§’æŒ‡å‘å³è¡¨ç¤ºæµçš„æµåŠ¨æ–¹å‘ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š

|å‘½ä»¤|ä»‹ç»|
|:--|:--|
|command >filename|æŠŠæ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–°æ–‡ä»¶ä¸­|
|command 1>filename|åŒä¸Š|
|command >>filename|æŠŠæ ‡å‡†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶ä¸­|
|command 1>>filename|åŒä¸Š|
|command 2>filename|æŠŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ–°æ–‡ä»¶ä¸­|
|command 2>>filename|æŠŠæ ‡å‡†é”™è¯¯è¿½åŠ åˆ°æ–°æ–‡ä»¶ä¸­|

æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£ä¹ˆç›´æŽ¥`2>1`ä¸å°±å¥½äº†å—ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¤šä¸€ä¸ª `&` ç¬¦å·ï¼Ÿè¿™æ˜¯ä¸ºäº†å’Œæ ‡å‡†çš„æ–‡ä»¶è¿›è¡ŒåŒºåˆ†ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œshell ä¼šæŠŠå®ƒè§£é‡Šä¸ºå‘ä¸€ä¸ªåç§°ä¸º â€1â€œ çš„æ–‡ä»¶æµå‡ºã€‚è€Œè¦è¡¨ç¤ºæ ‡å‡†è¾“å‡ºå°±å¿…é¡»ç”¨`&` ç¬¦å·è¿›è¡ŒåŒºåˆ†ã€‚

å‚è€ƒ1ï¼š[ã€Šå¦‚ä½•ç†è§£Linux shellä¸­çš„â€œ2>&1â€ã€‹](https://zhuanlan.zhihu.com/p/47765176)

å‚è€ƒ2ï¼š[ã€Šlinuxä¸‹è¯¦è§£shellä¸­>/dev/null 2>&1ã€‹](https://www.cnblogs.com/ultranms/p/9353157.html)